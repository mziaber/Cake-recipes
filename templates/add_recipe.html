{% extends 'index.html' %}



{% block content %}
    <div class="container w-75 mt-4 p-3 rounded" style="background-color:rgb(243, 240, 237)">
        <div class="row">
            <div class="col-12">
                <h1 class="font-monospace fs-1 fw-bold">Dodaj nowy przepis</h1>
            </div>
        </div>
        <form>
            <div class="row m-3 text-start justify-content-center">
                <div class="col-5">
                    <label for="recipe_name">Recipe name: </label>
                    <input type="text" class="form-control" id="recipe_name" name="recipe_name">
                </div>
                <div class="col-5">
                    <label for="category">Category: </label>
                    <select class="form-control" id="category" name="category">
                        <option selected>Choose...</option>
                        <option value="1">Sernik</option>
                        <option value="2">Torty</option>
                        <option value="3">Ciasta z kremem</option>
                        <option value="4">Ciasta z owocami</option>
                        <option value="5">Ciasteczka</option>
                    </select>
                </div>
            </div>
            <div class="row m-3 text-start justify-content-center">
                <div class="col-5" id="field_div">
                    <label for="add_ing_button m-2" style="display:inline-block;">Składniki:</label>
                    <input type="button" class="btn btn-secondary btn-sm my-3 pb-1" id="add_ing_button" value="Dodaj pole składniku" onclick="add_field();">
                    <input type="button" class="btn btn-secondary btn-sm my-3 pb-1" id="remove_ing_button" value="Usuń pole składniku" onclick="remove();">
                </div>
                <div class="col-5" id="step_div">
                    <label for="add_ing_button m-2" style="display:inline-block;">Kroki:</label>
                    <input type="button" class="btn btn-secondary btn-sm my-3 pb-1" id="add_ing_button" value="Dodaj pole kroku" onclick="add_step();">
                    <input type="button" class="btn btn-secondary btn-sm my-3 pb-1" id="remove_ing_button" value="Usuń pole kroku" onclick="remove_step();">
                </div>
            </div>
    

            
        
    </div>
    <script>

        function add_field()
        {
            var total_text=document.getElementsByClassName("ingridient");
            total_text=total_text.length+1;
            document.getElementById("field_div").innerHTML=document.getElementById("field_div").innerHTML+
            "<div class='ingridient mb-2' id='d_"+total_text+"'><input type='text' class='form-control' placeholder='Składnik"+total_text+"' id='ingridient"+total_text+"' name='ingridient"+total_text+"'></div>"
        }
        function remove(id)
        {   
            var total_text=document.getElementsByClassName("ingridient");
            total_text=total_text.length
            element = document.getElementById('d_'+total_text)
            element.remove();
        }

        function add_step()
        {
            var total_text=document.getElementsByClassName("step");
            total_text=total_text.length+1;
            document.getElementById("step_div").innerHTML=document.getElementById("step_div").innerHTML+
            "<div class='step mb-3' id='step"+total_text+"'>\
                <input type='text' class='form-control mb-1' id='name"+total_text+"' name='name"+total_text+"' placeholder='Nazwa kroku"+total_text+"'>\
                <textarea class='form-control' rows='3' placeholder='Krok"+total_text+"' id='step"+total_text+"' \
                name='step"+total_text+"'></textarea> \
                </div>"
        }
        function remove_step()
        {
            var total_text=document.getElementsByClassName("step");
            total_text=total_text.length
            element = document.getElementById('step'+total_text)
            element.remove();
        }
    </script>
{% endblock %}